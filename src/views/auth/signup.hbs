<div class="signup-container">
  <div class="signup-box">
    <h2 class="signup-title">Registro de Usuario</h2>

    {{#if message}}
    <div class="alert alert-danger text-center">{{message}}</div>
    {{/if}}

    {{#if success}}
    <div class="alert alert-success text-center">{{success}}</div>
    {{/if}}

    <form action="/signup" method="POST" id="signupForm" class="signup-form-grid">

      <!-- Columna izquierda -->
      <div class="form-group">
        <label for="username">Nombre de usuario</label>
        <input type="text" name="username">
      </div>

      <div class="form-group">
        <label for="nombre">Nombre</label>
        <input type="text" name="nombre">
      </div>

      <div class="form-group">
        <label for="apellido">Apellido</label>
        <input type="text" name="apellido">
      </div>

      <div class="form-group">
        <label for="correo">Correo electrónico</label>
        <input type="email" name="correo">
      </div>

      <!-- Columna derecha con contraseña -->
      <div class="form-group full-width password-wrapper">
        <label for="contraseña">Contraseña</label>
        <label for="confirmar" class="label-inline">Confirmar contraseña</label>

        <div class="password-row">
          <div class="password-field">
            <input type="password" name="contraseña" id="contraseña">
            <button type="button" class="toggle-password" data-target="contraseña">👁</button>
          </div>
          <div class="password-field">
            <input type="password" name="confirmar" id="confirmar">
            <button type="button" class="toggle-password" data-target="confirmar">👁</button>
          </div>
        </div>

        <div id="strength-bar" class="strength-bar"></div>
        <small id="strength-text" class="text-muted">Introduce una contraseña</small>

        <ul class="password-rules">
          <li>Mínimo 8 caracteres</li>
          <li>Al menos una mayúscula</li>
          <li>Al menos un número</li>
          <li>Al menos un carácter especial</li>
        </ul>

        <!-- Checkbox debajo de reglas -->
        <div class="admin-option">
          <input type="checkbox" id="isAdmin" name="isAdmin">
          <label for="isAdmin">¿Registrar como Administrador?</label>
        </div>

        <!-- Campo de clave admin -->
        <div id="adminKeyField" style="display:none;" class="admin-key-field">
          <label for="adminKey">Clave única de administrador</label>
          <input type="password" id="adminKey" name="adminKey">
        </div>
      </div>

      <div class="form-group full-width">
        <button type="submit" class="primary-btn w-100">Registrarse</button>
      </div>
    </form>

    <p class="signup-footer">
      ¿Ya tienes cuenta? <a href="/signin">Inicia Sesión</a>
    </p>
  </div>
</div>

<!-- Modal genérico para mensajes de Login/Signup -->
<div id="messageModal" class="message-modal">
  <div class="message-content">
    <p id="messageText"></p>
    <button id="messageCloseBtn">Aceptar</button>
  </div>
</div>
<br><br>
<script src="/js/auth.js"></script>
<script src="/js/register.js"></script>