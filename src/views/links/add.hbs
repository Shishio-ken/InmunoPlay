<main class="main-content">
  <h1>Administrar Preguntas</h1>
  <p>Desde aquí puedes crear nuevas preguntas con sus opciones:</p>

  <!-- Formulario de nueva pregunta -->
  <div class="info-box">
    <h2>Nueva Pregunta</h2>
    <form action="/links/add" method="POST" id="preguntaForm">
      <div class="form-group mb-3">
        <label for="enunciado">Pregunta:</label>
        <input type="text" class="form-control" name="enunciado" placeholder="Escribe la pregunta" required>
      </div>

      <div class="form-group mb-3">
        <label for="cantidad">Número de respuestas:</label>
        <select id="cantidad" class="form-control" required>
          <option value="">Selecciona</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
        </select>
      </div>

      <div id="opcionesContainer" class="mb-3"></div>

      <button type="submit" class="primary-btn">Guardar Pregunta</button>
    </form>
  </div>

  <!-- Listado de preguntas -->
  <h2 class="my-4 text-center">Preguntas Registradas</h2>

  {{#each preguntas}}
    <div class="card mb-3">
      <div class="card-header d-flex justify-content-between align-items-center">
        <div>{{enunciado}}</div>
        <div>
          <a href="/links/edit/{{id}}" class="btn btn-sm btn-warning me-1">Editar</a>
          <a href="/links/delete/{{id}}" class="btn btn-sm btn-danger" onclick="return confirm('¿Seguro que deseas eliminar esta pregunta?')">Eliminar</a>
        </div>
      </div>
      <ul class="list-group list-group-flush">
        {{#each opciones}}
          <li class="list-group-item {{#if es_correcta}}list-group-item-success fw-bold{{/if}}">
            {{texto_opcion}}
            {{#if es_correcta}}
              <span class="badge bg-success float-end">✔ Correcta</span>
            {{/if}}
          </li>
        {{/each}}
      </ul>
    </div>
  {{else}}
    <div class="alert alert-warning text-center">
      No hay preguntas aún.
    </div>
  {{/each}}
</main>

<!-- Tu script de generación dinámica -->
<script src="/js/preguntas.js"></script>
