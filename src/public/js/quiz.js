
    const questions = [
      {
        question: "1. Leucemia linfoblástica aguda L1 se caracteriza:",
        options: [
          "Linfoblastos pequeños, poseen escaso citoplasma basófilo sin gránulos",
          "Linfoblastos grandes, poseen escaso citoplasma basófilo sin gránulos",
          "Linfoblastos pequeños, poseen escaso citoplasma basófilo con gránulos",
          "Ninguno"
        ],
        correctAnswer: 0 // a
      },
      {
        question: "2. Leucemia linfoblástica aguda L1 se caracteriza:",
        options: [
          "El núcleo ocupa la menor parte de la superficie y la cromatina es laxa gruesa",
          "El núcleo ocupa la mayor parte de la superficie y la cromatina es laxa gruesa",
          "El núcleo ocupa la mayor parte de la superficie y la cromatina es laxa fina",
          "Ninguno"
        ],
        correctAnswer: 1 // b
      },
      {
        question: "3. Los linfoblastos pueden llegar a presentar la forma:",
        options: [
          "Balón de futbol americano",
          "Raquetas o 'espejos de mano'",
          "Riñón",
          "Ninguno"
        ],
        correctAnswer: 1 // b
      },
      {
        question: "4. Leucemia linfoblástica aguda L1 se caracteriza:",
        options: [
          "Linfoblastos de tamaño homogéneo, cromatina laxa-fina, sin evidencia de nucleolos, con hendidura nucleares",
          "Linfoblastos de tamaño homogéneo, cromatina laxa-gruesa, sin evidencia de nucleolos, con hendidura nucleares",
          "Linfoblastos de tamaño homogéneo, cromatina laxa-gruesa, sin evidencia de nucleolos, sin hendidura nucleares",
          "Ninguno"
        ],
        correctAnswer: 1 // b
      },
      {
        question: "5. Leucemia linfoblástica aguda L2 se caracteriza:",
        options: [
          "Linfoblastos de tamaño variable, presentan una cromatina gruesa y nucleolos bien delimitados",
          "Linfoblastos de tamaño variable, presentan una cromatina fina y nucleolos bien delimitados",
          "Linfoblastos de tamaño regular, presentan una cromatina fina y nucleolos bien delimitados",
          "Ninguno"
        ],
        correctAnswer: 1 // b
      },
      {
        question: "6. Leucemia linfoblástica aguda L2 se caracteriza:",
        options: [
          "Linfoblasto de tamaño grande, mucho citoplasma basófilo, núcleo grande con cromatina fina, evidencia un gran nucleolo",
          "Linfoblasto de tamaño grande, escaso citoplasma basófilo, núcleo grande con cromatina fina, evidencia un gran nucleolo",
          "Linfoblasto de tamaño grande, escaso citoplasma basófilo, núcleo pequeño con cromatina fina, evidencia un gran nucleolo",
          "Ninguno"
        ],
        correctAnswer: 1 // b
      },
      {
        question: "7. Leucemia linfoblástica aguda L2 se caracteriza:",
        options: [
          "Linfoblasto con moderado citoplasma basófilo, evidencia vacuolización citoplásmica, posee un núcleo que ocupa la menor parte de la célula, su cromatina es fina",
          "Linfoblasto con moderado citoplasma basófilo, evidencia vacuolización citoplásmica, posee un núcleo que ocupa la mayor parte de la célula, su cromatina es gruesa",
          "Linfoblasto con moderado citoplasma basófilo, evidencia vacuolización citoplásmica, posee un núcleo que ocupa la mayor parte de la célula, su cromatina es fina",
          "Ninguno"
        ],
        correctAnswer: 2 // c
      },
      {
        question: "8. Leucemia linfoblástica aguda L2 se caracteriza:",
        options: [
          "Linfoblastos de tamaño variable (pequeño, mediano y grande), no poseen citoplasma basófilo, presentan núcleos irregulares con cromatina fina que evidencia nucleolos bien delimitados",
          "Linfoblastos de tamaño variable (pequeño, mediano y grande), poseen citoplasma basófilo, presentan núcleos regulares con cromatina fina que evidencia nucleolos bien delimitados",
          "Linfoblastos de tamaño variable (pequeño, mediano y grande), poseen citoplasma basófilo, presentan núcleos irregulares con cromatina fina que evidencia nucleolos bien delimitados",
          "Ninguno"
        ],
        correctAnswer: 2 // c
      },
      {
        question: "9. Leucemia linfoblástica aguda L3 se caracteriza:",
        options: [
          "Linfoblastos con citoplasma basófilo, cromatina gruesa y evidentes nucleolos prominentes",
          "Linfoblastos con citoplasma eosinófilo, cromatina fina y evidentes nucleolos prominentes",
          "Linfoblastos con citoplasma basófilo, cromatina fina y evidentes nucleolos prominentes",
          "Ninguno"
        ],
        correctAnswer: 2 // c
      },
      {
        question: "10. Leucemia linfoblástica aguda L3 se caracteriza:",
        options: [
          "Linfoblastos de tamaño medio y grande, poseen poco citoplasma basófilo con vacuolización citoplásmica, presentan núcleos irregulares con cromatina fina, evidencian nucleolos",
          "Linfoblastos de tamaño medio y grande, poseen abundante citoplasma basófilo con vacuolización citoplásmica, presentan núcleos regulares con cromatina fina, evidencian nucleolos",
          "Linfoblastos de tamaño medio y grande, poseen abundante citoplasma basófilo con vacuolización citoplásmica, presentan núcleos irregulares con cromatina fina, evidencian nucleolos",
          "Ninguno"
        ],
        correctAnswer: 2 // c
      },
      {
        question: "11. Linfoma de Burkitt se caracteriza:",
        options: [
          "Estos presentan un número menor de vacuolas citoplásmicas, el citoplasma adquiere un color azul turquesa, comúnmente se le conoce como 'célula con aspecto de tipo cielo estrellado'",
          "Estos presentan un número mayor de vacuolas citoplásmicas, el citoplasma adquiere un color verde turquesa, comúnmente se le conoce como 'célula con aspecto de tipo cielo estrellado'",
          "Estos presentan un número mayor de vacuolas citoplásmicas, el citoplasma adquiere un color azul turquesa, comúnmente se le conoce como 'célula con aspecto de tipo cielo estrellado'",
          "Ninguno"
        ],
        correctAnswer: 2 // c
      },
      {
        question: "12. Leucemia linfocítica crónica se caracteriza:",
        options: [
          "Linfocitos de tamaño grande, con escaso citoplasma y núcleos redondos con cromatina condensada y sin nucleolos evidentes",
          "Linfocitos de tamaño mediano, con escaso citoplasma y núcleos redondos con cromatina condensada y sin nucleolos evidentes",
          "Linfocitos de tamaño pequeño, con escaso citoplasma y núcleos redondos con cromatina condensada y sin nucleolos evidentes",
          "Ninguno"
        ],
        correctAnswer: 2 // c
      },
      {
        question: "13. Leucemia linfocítica crónica se caracteriza:",
        options: [
          "Linfocitos grandes con escaso citoplasma basófilo sin evidencia de granulación, núcleos regulares que ocupan la mayor parte de la célula, presentan cromatina condensada sin evidenciar nucleolos, se observa un neutrófilo y tres sombras de Gumprecht.",
          "Linfocitos medianos con escaso citoplasma basófilo sin evidencia de granulación, núcleos regulares que ocupan la mayor parte de la célula, presentan cromatina condensada sin evidenciar nucleolos, se observa un neutrófilo y tres sombras de Gumprecht.",
          "Linfocitos pequeños con escaso citoplasma basófilo sin evidencia de granulación, núcleos regulares que ocupan la mayor parte de la célula, presentan cromatina condensada sin evidenciar nucleolos, se observa un neutrófilo y tres sombras de Gumprecht.",
          "Ninguno"
        ],
        correctAnswer: 2 // c
      },
      {
        question: "14. Leucemia linfocítica crónica se caracteriza:",
        options: [
          "Linfocitos pequeños, sin citoplasma, núcleos regulares y cromatina condensada que presenta aspecto cuarteado.",
          "Linfocitos pequeños, con escaso citoplasma, núcleos irregulares y cromatina condensada que presenta aspecto cuarteado.",
          "Linfocitos pequeños, con escaso citoplasma, núcleos regulares y cromatina condensada que presenta aspecto cuarteado.",
          "Ninguno"
        ],
        correctAnswer: 2 // c
      },
      {
        question: "15. Leucemia de células Natural Killer (NK) se caracteriza:",
        options: [
          "Célula de tamaño pequeño presenta abundante citoplasma basófilo, denota una granulación azurofila gruesa y un núcleo regular que posee una cromatina condensada sin evidencia de nucleolos",
          "Célula de tamaño grande presenta poco citoplasma basófilo, denota una granulación azurofila gruesa y un núcleo regular que posee una cromatina condensada sin evidencia de nucleolos",
          "Célula de tamaño grande presenta abundante citoplasma basófilo, denota una granulación azurofila gruesa y un núcleo regular que posee una cromatina condensada sin evidencia de nucleolos",
          "Ninguno"
        ],
        correctAnswer: 2 // c
      },
      {
        question: "16. Leucemia prolinfocítica se caracteriza:",
        options: [
          "Prolinfocito: célula de medio-grande, presenta poco citoplasma con moderada basofilia. Su núcleo es redondo u oval, puede ser regular o irregular, con un patrón de cromatina en grumos y aún conserva un nucleolo no bien definido",
          "Prolinfocito: célula de medio-grande, presenta poco citoplasma con moderada basofilia. Su núcleo es redondo u oval, puede ser regular o irregular, con un patrón de cromatina en grumos y aún conserva un nucleolo bien definido",
          "Prolinfocito: célula de medio-grande, presenta un citoplasma abundante con moderada basofilia. Su núcleo es redondo u oval, puede ser regular o irregular, con un patrón de cromatina en grumos y aún conserva un nucleolo no bien definido",
          "Ninguno"
        ],
        correctAnswer: 2 // c
      },
      {
        question: "17. Leucemia prolinfocítica se caracteriza:",
        options: [
          "Prolinfocitos poco citoplasma moderadamente basófilo, núcleos uniformes, con cromatina laxa-gruesa y evidencian un nucleolo poco definido",
          "Prolinfocitos con abundante citoplasma moderadamente basófilo, núcleos uniformes, con cromatina laxa-fina y evidencian un nucleolo poco definido",
          "Prolinfocitos con abundante citoplasma moderadamente basófilo, núcleos uniformes, con cromatina laxa-gruesa y evidencian un nucleolo poco definido",
          "Ninguno"
        ],
        correctAnswer: 2 // c
      }
    ];

    // Variables de estado
    let currentQuestion = 0;
    let score = 0;
    let selectedOption = null;
    let quizCompleted = false;

    // Elementos del DOM
    const questionNumberEl = document.getElementById('question-number');
    const questionTextEl = document.getElementById('question-text');
    const optionsContainerEl = document.getElementById('options-container');
    const nextBtn = document.getElementById('next-btn');
    const feedbackEl = document.getElementById('feedback');
    const progressBarEl = document.getElementById('progress-bar');
    const questionScreenEl = document.getElementById('question-screen');
    const resultsScreenEl = document.getElementById('results-screen');
    const finalScoreEl = document.getElementById('final-score');
    const resultsMessageEl = document.getElementById('results-message');
    const celebrationEl = document.getElementById('celebration');
    const restartBtn = document.getElementById('restart-btn');

    // Función para cargar la pregunta actual
    function loadQuestion() {
      const question = questions[currentQuestion];
      questionNumberEl.textContent = `Pregunta ${currentQuestion + 1} de ${questions.length}`;
      questionTextEl.textContent = question.question;
      
      // Actualizar barra de progreso
      const progress = ((currentQuestion) / questions.length) * 100;
      progressBarEl.style.width = `${progress}%`;
      
      // Limpiar opciones anteriores
      optionsContainerEl.innerHTML = '';
      
      // Crear nuevas opciones
      question.options.forEach((option, index) => {
        const optionEl = document.createElement('div');
        optionEl.classList.add('option');
        optionEl.textContent = option;
        optionEl.dataset.index = index;
        
        optionEl.addEventListener('click', () => selectOption(optionEl, index));
        
        optionsContainerEl.appendChild(optionEl);
      });
      
      // Reiniciar estado de la pregunta
      selectedOption = null;
      nextBtn.disabled = true;
      feedbackEl.textContent = '';
      feedbackEl.className = 'feedback';
    }

    // Función para seleccionar una opción
    function selectOption(optionEl, optionIndex) {
      // Si ya se seleccionó una opción, no hacer nada
      if (selectedOption !== null) return;
      
      // Marcar la opción seleccionada
      selectedOption = optionIndex;
      optionEl.classList.add('selected');
      
      // Verificar si la respuesta es correcta
      const question = questions[currentQuestion];
      const isCorrect = optionIndex === question.correctAnswer;
      
      // Mostrar retroalimentación
      if (isCorrect) {
        optionEl.classList.add('correct');
        feedbackEl.textContent = '¡Correcto!';
        feedbackEl.classList.add('correct-feedback');
        score++;
      } else {
        optionEl.classList.add('incorrect');
        // Marcar también la respuesta correcta
        optionsContainerEl.children[question.correctAnswer].classList.add('correct');
        feedbackEl.textContent = 'Incorrecto';
        feedbackEl.classList.add('incorrect-feedback');
      }
      
      // Habilitar el botón de siguiente
      nextBtn.disabled = false;
    }

    // Función para mostrar los resultados finales
    function showResults() {
      questionScreenEl.classList.add('hidden');
      resultsScreenEl.classList.remove('hidden');
      
      finalScoreEl.textContent = `${score} / ${questions.length}`;
      
      // Mostrar mensaje según el puntaje
      const percentage = (score / questions.length) * 100;
      if (percentage === 100) {
        resultsMessageEl.textContent = '¡Perfecto! Dominas completamente el tema.';
        celebrationEl.textContent = '🏆🎉';
      } else if (percentage >= 80) {
        resultsMessageEl.textContent = '¡Muy bien! Tienes un buen conocimiento del tema.';
        celebrationEl.textContent = '🎉';
      } else if (percentage >= 60) {
        resultsMessageEl.textContent = 'Buen trabajo, pero hay algunos conceptos que puedes repasar.';
        celebrationEl.textContent = '👍';
      } else {
        resultsMessageEl.textContent = 'Sigue practicando, puedes mejorar.';
        celebrationEl.textContent = '💪';
      }
    }

    // Evento para el botón Siguiente
    nextBtn.addEventListener('click', () => {
      if (currentQuestion < questions.length - 1) {
        currentQuestion++;
        loadQuestion();
      } else {
        quizCompleted = true;
        showResults();
      }
    });

    // Evento para el botón Reiniciar
    restartBtn.addEventListener('click', () => {
      currentQuestion = 0;
      score = 0;
      quizCompleted = false;
      
      resultsScreenEl.classList.add('hidden');
      questionScreenEl.classList.remove('hidden');
      
      loadQuestion();
    });

    // Iniciar el test
    loadQuestion();
